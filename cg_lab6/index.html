<!DOCTYPE html>
<html>
    <title>CG Practice 6</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <style>
        body {
            background-color: #bfe3dd;
            color: #000;
        }

        a {
            color: #2983ff;
        }
    </style>
	<body>

		<div id="container"></div>
		<div id="info"><a href="https://threejs.org" target="_blank" rel="noopener">three.js</a> - shader demo. featuring <a href="http://www.pouet.net/prod.php?which=52761" target="_blank" rel="noopener">Monjori by Mic</a></div>

		<script id="vertexShader" type="x-shader/x-vertex">

			varying vec2 vUv;

			void main()	{

				vUv = uv;

                // attribute vec3 position;
				gl_Position = vec4( position.xyz, 1.0 );

			}

		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">

			varying vec2 vUv;

			uniform float time;
            uniform sampler2D myTexImg;
            uniform vec2 bufferSize;
            uniform vec2 imgSize;

			void main()	{

				//vec2 p = - 1.0 + 2.0 * vUv;
				//float a = time * 40.0;
                vec3 imgRGB;
                if (imgSize.x != 0.0)
                    //imgRGB = texture2D(myTexImg, vec2(gl_FragCoord.x/imgSize.x, gl_FragCoord.y/imgSize.y)).rgb;
                    imgRGB = texture2D(myTexImg, gl_FragCoord.xy / imgSize.xy).rgb;
                else
                    imgRGB = texture2D(myTexImg, vUv).rgb;
                
				gl_FragColor = vec4( imgRGB, 1.0 );
			}

		</script>

		<script type="importmap">
			{
				"imports": {
                    "three": "../node_modules/three/build/three.module.js"
				}
			}
		</script>

		<script type="module" src="./practice6.js">
		</script>

	</body>
</html>